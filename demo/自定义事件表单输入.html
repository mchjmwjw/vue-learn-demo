<meta charset="utf-8">
<script src="../vue.js"></script>

<div id="app">
    <currentcy-input v-model="price"></currentcy-input>
</div>

<script>
    Vue.component('currentcy-input', {
        template: '<input ref="input2" v-bind:value="value" v-on:input="updateValue($event.target.value)" />',
        props:['value'],
        methods: {
            updateValue: function(value) {
                var formattedValue = value.trim().slice(0, value.indexOf('.')+3);
                if(formattedValue !== value) {
                    this.$el.value = formattedValue;
                }
                this.$emit('input', Number(formattedValue))
            }
        }
    });

    var parent = new Vue({
        el:'#app',
        data: {
            price: 0
        }
    })
    var child = parent.$refs;
</script>
